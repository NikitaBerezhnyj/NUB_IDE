{"ast":null,"code":"var _jsxFileName = \"/home/nikita/\\u041F\\u0440\\u043E\\u0454\\u043A\\u0442\\u0438/NUB_Project/nub-ide/src/Components/Code_Editor_Component/Code_Editor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { RichTextarea } from \"rich-textarea\";\nimport { Container } from \"react-bootstrap\";\nimport \"./Code_Editor.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CodeEditor({\n  programming_language,\n  fileContent\n}) {\n  _s();\n  const [text, setText] = useState(\"\");\n  const [history, setHistory] = useState([]);\n  const [currentStep, setCurrentStep] = useState(-1);\n  const textareaRef = useRef(null);\n\n  // Дужки та оператори для підсвічування\n  const operators = [\"+\", \"-\", \"*\", \"/\", \"++\", \"==\", \"!=\", \"<\", \">\", \"<=\", \">=\"];\n  const brackets = [\"{\", \"}\", \"[\", \"]\", \"(\", \")\", '\"', '\"', \"'\", \"'\"];\n\n  // Ключові слова мов програмування\n  const NikLangKeyword = [\"друк\", \"ввід\", \"ввід_числа\", \"якщо\", \"інакше\", \"інакше_якщо\", \"поки\", \"для_кожного\", \"повернути\", \"функція\", \"змінна\", \"ціле\", \"дійсне\", \"рядок\", \"логічне\", \"символ\", \"кінець\"];\n  const UdavKeywords = [\"друк\", \"ввід\", \"якщо\", \"інакше\", \"інакшеЯкщо\", \"правда\", \"брехня\", \"або\", \"не\", \"також\", \"для\", \"поки\", \"функція\", \"припинити\", \"продовжити\", \"повернути\", \"пропуск\", \"клас\", \"як\", \"від\", \"отримати\", \"заочно\", \"жодний\", \"крім\", \"належить\", \"підняти\", \"остаточно\", \"це\", \"лямбда\", \"спробувати\", \"неЛокально\", \"утверджувати\", \"видалити\", \"глобально\", \"із\", \"асинхронний\", \"здобути\", \"число\", \"дріб\", \"рядок\", \"границях\", \"своє\"];\n  const BasedKeywords = [\"друк\", \"ввід\", \"ввід_числа\", \"якщо\", \"інакше\", \"інакше_якщо\", \"поки\", \"для_кожного\", \"повернути\", \"функція\", \"змінна\", \"ціле\", \"дійсне\", \"рядок\", \"логічне\", \"символ\", \"кінець\"];\n\n  // Виділити все\n  const selectAll = () => {\n    const textarea = document.getElementById(\"textarea\");\n    textarea.focus();\n    textarea.select();\n  };\n\n  // Копіювати\n  const copy = () => {\n    const textarea = document.getElementById(\"textarea\");\n    textarea.focus();\n    textarea.select();\n  };\n  // Вставити\n  // Вирізати\n\n  // Відміна дії\n  const undo = () => {\n    if (currentStep > 0) {\n      setText(history[currentStep - 1]);\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  // На дію вперед\n  const redo = () => {\n    if (currentStep < history.length - 1) {\n      setText(history[currentStep + 1]);\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  // Очищення історії дій\n  const clearActionHistory = () => {\n    setHistory([]);\n    setCurrentStep(-1);\n  };\n\n  // Додавання табуляції\n  const tabulation = () => {\n    const textarea = textareaRef.current;\n    const {\n      selectionStart,\n      selectionEnd,\n      value\n    } = textarea;\n    const start = value.substring(0, selectionStart);\n    const end = value.substring(selectionEnd);\n    const tabbedText = start + \"\\t\" + end;\n    setText(tabbedText);\n    const currentPosition = textarea.selectionStart;\n    textarea.value = tabbedText;\n    textarea.setSelectionRange(currentPosition + 1, currentPosition + 1);\n    textarea.focus();\n  };\n\n  // Створення коментаря\n  const createOrRemoveComment = () => {\n    let commentSymbol = \"\";\n    switch (programming_language) {\n      case \"NikLang\":\n        commentSymbol = \"// \";\n        break;\n      case \"Udav\":\n      case \"Based\":\n        commentSymbol = \"# \";\n        break;\n      default:\n        commentSymbol = \"\";\n        break;\n    }\n    const textarea = document.getElementById(\"textarea\");\n    let currentPosition = textarea.selectionStart;\n    moveToLineStart();\n    const {\n      selectionStart,\n      selectionEnd,\n      value\n    } = textarea;\n    const start = value.substring(0, selectionStart);\n    const end = value.substring(selectionEnd);\n    const textAfterCursor = value.substring(selectionStart);\n    let newText;\n    // Видаляємо коментар\n    if (textAfterCursor.trim().startsWith(commentSymbol.trim())) {\n      newText = start + end.substring(commentSymbol.length);\n      currentPosition -= commentSymbol.length;\n    }\n    // Додаємо коментар\n    else {\n      newText = start + commentSymbol + end;\n      currentPosition += commentSymbol.length;\n    }\n    setText(newText);\n    textarea.value = newText;\n    textarea.setSelectionRange(currentPosition, currentPosition);\n    textarea.focus();\n  };\n\n  // Перемістити курсор на початок рядка\n  const moveToLineStart = () => {\n    const textarea = document.getElementById(\"textarea\");\n    const currentPosition = textarea.selectionStart;\n    const textBeforeCursor = textarea.value.substring(0, currentPosition);\n    const lastNewLineIndex = textBeforeCursor.lastIndexOf(\"\\n\");\n    const newPosition = lastNewLineIndex === -1 ? 0 : lastNewLineIndex + 1;\n    textarea.setSelectionRange(newPosition, newPosition);\n    textarea.focus();\n  };\n\n  // Натискання на Ctrl + z та Ctrl + y\n  useEffect(() => {\n    const handleUndoRedo = event => {\n      if (event.ctrlKey && event.key === \"z\") {\n        event.preventDefault();\n        undo();\n      } else if (event.ctrlKey && event.key === \"y\") {\n        event.preventDefault();\n        redo();\n      }\n    };\n    window.addEventListener(\"keydown\", handleUndoRedo);\n    return () => {\n      window.removeEventListener(\"keydown\", handleUndoRedo);\n    };\n  }, [undo, redo]);\n\n  // Натискання на Tab\n  useEffect(() => {\n    const handleTabulation = event => {\n      if (event.key === \"Tab\") {\n        event.preventDefault();\n        tabulation();\n      }\n    };\n    window.addEventListener(\"keydown\", handleTabulation);\n    return () => {\n      window.removeEventListener(\"keydown\", handleTabulation);\n    };\n  }, [tabulation]);\n\n  // Додавання табуляції в наступний рядок, якщо вона є в минулому\n  useEffect(() => {\n    const handleEnterPress = event => {\n      if (event.key === \"Enter\") {\n        const textarea = textareaRef.current;\n        const currentPosition = textarea.selectionStart;\n        const textBeforeCursor = textarea.value.substring(0, currentPosition);\n        const lastNewLineIndex = textBeforeCursor.lastIndexOf(\"\\n\");\n        const lastLine = textBeforeCursor.substring(lastNewLineIndex + 1);\n        if (lastLine.startsWith(\"\\t\")) {\n          event.preventDefault();\n          const spaces = \"\\t\".repeat(lastLine.match(/^\\t*/)[0].length); // рахуємо кількість табуляцій\n          const newText = textarea.value.substring(0, currentPosition) + \"\\n\" + spaces + textarea.value.substring(currentPosition);\n          setText(newText);\n          textarea.setSelectionRange(currentPosition + spaces.length + 1, currentPosition + spaces.length + 1); // переміщення курсору\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", handleEnterPress);\n    return () => {\n      window.removeEventListener(\"keydown\", handleEnterPress);\n    };\n  }, [text]);\n\n  // Додавання коментарів\n  useEffect(() => {\n    const handleComment = event => {\n      if (event.ctrlKey && event.key === \"/\") {\n        event.preventDefault();\n        createOrRemoveComment();\n      }\n    };\n    window.addEventListener(\"keydown\", handleComment);\n    return () => {\n      window.removeEventListener(\"keydown\", handleComment);\n    };\n  }, [createOrRemoveComment]);\n\n  // Відкриття файлу\n  useEffect(() => {\n    if (fileContent) {\n      if (fileContent == \"new_file\") {\n        setText(\"\");\n        clearActionHistory();\n      } else {\n        setText(fileContent);\n        clearActionHistory();\n      }\n    }\n  }, [fileContent]);\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    const lineNumbersEle = document.getElementById(\"line-numbers\");\n    const displayLineNumbers = () => {\n      const lines = text.split(\"\\n\");\n      lineNumbersEle.innerHTML = Array.from({\n        length: lines.length\n      }, (_, i) => `<div>${i + 1}</div>`).join(\"\");\n    };\n    displayLineNumbers();\n    const handleInput = event => {\n      if (event.inputType === \"insertText\") {\n        const {\n          selectionStart,\n          value\n        } = event.target;\n        const closingChars = {\n          \"(\": \")\",\n          \"{\": \"}\",\n          \"[\": \"]\",\n          '\"': '\"',\n          \"'\": \"'\"\n        };\n        if (event.data in closingChars) {\n          event.preventDefault();\n          const closingChar = closingChars[event.data];\n          setText(value.substring(0, selectionStart) + closingChar + value.substring(selectionStart));\n          textarea.selectionStart = selectionStart;\n          textarea.selectionEnd = selectionStart;\n          setTimeout(() => {\n            textarea.focus();\n            textarea.setSelectionRange(selectionStart, selectionStart);\n          }, 0);\n        } else if (event.data === closingChars[value[selectionStart]]) {\n          event.preventDefault();\n          textarea.selectionStart = selectionStart;\n          textarea.selectionEnd = selectionStart;\n          setTimeout(() => {\n            textarea.focus();\n            textarea.setSelectionRange(selectionStart, selectionStart);\n          }, 0);\n        }\n      }\n    };\n    textarea.addEventListener(\"input\", handleInput);\n    return () => {\n      textarea.removeEventListener(\"input\", handleInput);\n    };\n  }, [text]);\n  const handleChange = event => {\n    setText(event.target.value);\n    const newHistory = [...history.slice(0, currentStep + 1), event.target.value];\n    setHistory(newHistory);\n    setCurrentStep(newHistory.length - 1);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"code-editor-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"line-numbers\",\n      className: \"code-lines\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RichTextarea, {\n      ref: textareaRef,\n      id: \"textarea\",\n      value: text,\n      onChange: handleChange,\n      className: \"code-editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 389,\n    columnNumber: 5\n  }, this);\n}\n_s(CodeEditor, \"4kULsifbCst/mPGDDKkMPLcfC9g=\");\n_c = CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","RichTextarea","Container","jsxDEV","_jsxDEV","CodeEditor","programming_language","fileContent","_s","text","setText","history","setHistory","currentStep","setCurrentStep","textareaRef","operators","brackets","NikLangKeyword","UdavKeywords","BasedKeywords","selectAll","textarea","document","getElementById","focus","select","copy","undo","redo","length","clearActionHistory","tabulation","current","selectionStart","selectionEnd","value","start","substring","end","tabbedText","currentPosition","setSelectionRange","createOrRemoveComment","commentSymbol","moveToLineStart","textAfterCursor","newText","trim","startsWith","textBeforeCursor","lastNewLineIndex","lastIndexOf","newPosition","handleUndoRedo","event","ctrlKey","key","preventDefault","window","addEventListener","removeEventListener","handleTabulation","handleEnterPress","lastLine","spaces","repeat","match","handleComment","lineNumbersEle","displayLineNumbers","lines","split","innerHTML","Array","from","_","i","join","handleInput","inputType","target","closingChars","data","closingChar","setTimeout","handleChange","newHistory","slice","className","children","id","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","_c","$RefreshReg$"],"sources":["/home/nikita/Проєкти/NUB_Project/nub-ide/src/Components/Code_Editor_Component/Code_Editor.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { RichTextarea } from \"rich-textarea\";\nimport { Container } from \"react-bootstrap\";\nimport \"./Code_Editor.css\";\n\nexport default function CodeEditor({ programming_language, fileContent }) {\n  const [text, setText] = useState(\"\");\n  const [history, setHistory] = useState([]);\n  const [currentStep, setCurrentStep] = useState(-1);\n  const textareaRef = useRef(null);\n\n  // Дужки та оператори для підсвічування\n  const operators = [\n    \"+\",\n    \"-\",\n    \"*\",\n    \"/\",\n    \"++\",\n    \"==\",\n    \"!=\",\n    \"<\",\n    \">\",\n    \"<=\",\n    \">=\",\n  ];\n  const brackets = [\"{\", \"}\", \"[\", \"]\", \"(\", \")\", '\"', '\"', \"'\", \"'\"];\n\n  // Ключові слова мов програмування\n  const NikLangKeyword = [\n    \"друк\",\n    \"ввід\",\n    \"ввід_числа\",\n    \"якщо\",\n    \"інакше\",\n    \"інакше_якщо\",\n    \"поки\",\n    \"для_кожного\",\n    \"повернути\",\n    \"функція\",\n    \"змінна\",\n    \"ціле\",\n    \"дійсне\",\n    \"рядок\",\n    \"логічне\",\n    \"символ\",\n    \"кінець\",\n  ];\n  const UdavKeywords = [\n    \"друк\",\n    \"ввід\",\n    \"якщо\",\n    \"інакше\",\n    \"інакшеЯкщо\",\n    \"правда\",\n    \"брехня\",\n    \"або\",\n    \"не\",\n    \"також\",\n    \"для\",\n    \"поки\",\n    \"функція\",\n    \"припинити\",\n    \"продовжити\",\n    \"повернути\",\n    \"пропуск\",\n    \"клас\",\n    \"як\",\n    \"від\",\n    \"отримати\",\n    \"заочно\",\n    \"жодний\",\n    \"крім\",\n    \"належить\",\n    \"підняти\",\n    \"остаточно\",\n    \"це\",\n    \"лямбда\",\n    \"спробувати\",\n    \"неЛокально\",\n    \"утверджувати\",\n    \"видалити\",\n    \"глобально\",\n    \"із\",\n    \"асинхронний\",\n    \"здобути\",\n    \"число\",\n    \"дріб\",\n    \"рядок\",\n    \"границях\",\n    \"своє\",\n  ];\n  const BasedKeywords = [\n    \"друк\",\n    \"ввід\",\n    \"ввід_числа\",\n    \"якщо\",\n    \"інакше\",\n    \"інакше_якщо\",\n    \"поки\",\n    \"для_кожного\",\n    \"повернути\",\n    \"функція\",\n    \"змінна\",\n    \"ціле\",\n    \"дійсне\",\n    \"рядок\",\n    \"логічне\",\n    \"символ\",\n    \"кінець\",\n  ];\n\n  // Виділити все\n  const selectAll = () => {\n    const textarea = document.getElementById(\"textarea\");\n    textarea.focus();\n    textarea.select();\n  };\n\n  // Копіювати\n  const copy = () => {\n    const textarea = document.getElementById(\"textarea\");\n    textarea.focus();\n    textarea.select();\n  };\n  // Вставити\n  // Вирізати\n\n  // Відміна дії\n  const undo = () => {\n    if (currentStep > 0) {\n      setText(history[currentStep - 1]);\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  // На дію вперед\n  const redo = () => {\n    if (currentStep < history.length - 1) {\n      setText(history[currentStep + 1]);\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  // Очищення історії дій\n  const clearActionHistory = () => {\n    setHistory([]);\n    setCurrentStep(-1);\n  };\n\n  // Додавання табуляції\n  const tabulation = () => {\n    const textarea = textareaRef.current;\n    const { selectionStart, selectionEnd, value } = textarea;\n    const start = value.substring(0, selectionStart);\n    const end = value.substring(selectionEnd);\n    const tabbedText = start + \"\\t\" + end;\n    setText(tabbedText);\n    const currentPosition = textarea.selectionStart;\n    textarea.value = tabbedText;\n    textarea.setSelectionRange(currentPosition + 1, currentPosition + 1);\n    textarea.focus();\n  };\n\n  // Створення коментаря\n  const createOrRemoveComment = () => {\n    let commentSymbol = \"\";\n\n    switch (programming_language) {\n      case \"NikLang\":\n        commentSymbol = \"// \";\n        break;\n      case \"Udav\":\n      case \"Based\":\n        commentSymbol = \"# \";\n        break;\n      default:\n        commentSymbol = \"\";\n        break;\n    }\n\n    const textarea = document.getElementById(\"textarea\");\n    let currentPosition = textarea.selectionStart;\n\n    moveToLineStart();\n\n    const { selectionStart, selectionEnd, value } = textarea;\n    const start = value.substring(0, selectionStart);\n    const end = value.substring(selectionEnd);\n    const textAfterCursor = value.substring(selectionStart);\n\n    let newText;\n    // Видаляємо коментар\n    if (textAfterCursor.trim().startsWith(commentSymbol.trim())) {\n      newText = start + end.substring(commentSymbol.length);\n      currentPosition -= commentSymbol.length;\n    }\n    // Додаємо коментар\n    else {\n      newText = start + commentSymbol + end;\n      currentPosition += commentSymbol.length;\n    }\n\n    setText(newText);\n    textarea.value = newText;\n    textarea.setSelectionRange(currentPosition, currentPosition);\n    textarea.focus();\n  };\n\n  // Перемістити курсор на початок рядка\n  const moveToLineStart = () => {\n    const textarea = document.getElementById(\"textarea\");\n    const currentPosition = textarea.selectionStart;\n    const textBeforeCursor = textarea.value.substring(0, currentPosition);\n    const lastNewLineIndex = textBeforeCursor.lastIndexOf(\"\\n\");\n    const newPosition = lastNewLineIndex === -1 ? 0 : lastNewLineIndex + 1;\n    textarea.setSelectionRange(newPosition, newPosition);\n    textarea.focus();\n  };\n\n  // Натискання на Ctrl + z та Ctrl + y\n  useEffect(() => {\n    const handleUndoRedo = (event) => {\n      if (event.ctrlKey && event.key === \"z\") {\n        event.preventDefault();\n        undo();\n      } else if (event.ctrlKey && event.key === \"y\") {\n        event.preventDefault();\n        redo();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleUndoRedo);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleUndoRedo);\n    };\n  }, [undo, redo]);\n\n  // Натискання на Tab\n  useEffect(() => {\n    const handleTabulation = (event) => {\n      if (event.key === \"Tab\") {\n        event.preventDefault();\n        tabulation();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleTabulation);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleTabulation);\n    };\n  }, [tabulation]);\n\n  // Додавання табуляції в наступний рядок, якщо вона є в минулому\n  useEffect(() => {\n    const handleEnterPress = (event) => {\n      if (event.key === \"Enter\") {\n        const textarea = textareaRef.current;\n        const currentPosition = textarea.selectionStart;\n        const textBeforeCursor = textarea.value.substring(0, currentPosition);\n        const lastNewLineIndex = textBeforeCursor.lastIndexOf(\"\\n\");\n        const lastLine = textBeforeCursor.substring(lastNewLineIndex + 1);\n\n        if (lastLine.startsWith(\"\\t\")) {\n          event.preventDefault();\n          const spaces = \"\\t\".repeat(lastLine.match(/^\\t*/)[0].length); // рахуємо кількість табуляцій\n          const newText =\n            textarea.value.substring(0, currentPosition) +\n            \"\\n\" +\n            spaces +\n            textarea.value.substring(currentPosition);\n          setText(newText);\n          textarea.setSelectionRange(\n            currentPosition + spaces.length + 1,\n            currentPosition + spaces.length + 1\n          ); // переміщення курсору\n        }\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleEnterPress);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleEnterPress);\n    };\n  }, [text]);\n\n  // Додавання коментарів\n  useEffect(() => {\n    const handleComment = (event) => {\n      if (event.ctrlKey && event.key === \"/\") {\n        event.preventDefault();\n        createOrRemoveComment();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleComment);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleComment);\n    };\n  }, [createOrRemoveComment]);\n\n  // Відкриття файлу\n  useEffect(() => {\n    if (fileContent) {\n      if (fileContent == \"new_file\") {\n        setText(\"\");\n        clearActionHistory();\n      } else {\n        setText(fileContent);\n        clearActionHistory();\n      }\n    }\n  }, [fileContent]);\n\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    const lineNumbersEle = document.getElementById(\"line-numbers\");\n\n    const displayLineNumbers = () => {\n      const lines = text.split(\"\\n\");\n      lineNumbersEle.innerHTML = Array.from(\n        {\n          length: lines.length,\n        },\n        (_, i) => `<div>${i + 1}</div>`\n      ).join(\"\");\n    };\n\n    displayLineNumbers();\n\n    const handleInput = (event) => {\n      if (event.inputType === \"insertText\") {\n        const { selectionStart, value } = event.target;\n        const closingChars = {\n          \"(\": \")\",\n          \"{\": \"}\",\n          \"[\": \"]\",\n          '\"': '\"',\n          \"'\": \"'\",\n        };\n\n        if (event.data in closingChars) {\n          event.preventDefault();\n          const closingChar = closingChars[event.data];\n          setText(\n            value.substring(0, selectionStart) +\n              closingChar +\n              value.substring(selectionStart)\n          );\n          textarea.selectionStart = selectionStart;\n          textarea.selectionEnd = selectionStart;\n          setTimeout(() => {\n            textarea.focus();\n            textarea.setSelectionRange(selectionStart, selectionStart);\n          }, 0);\n        } else if (event.data === closingChars[value[selectionStart]]) {\n          event.preventDefault();\n          textarea.selectionStart = selectionStart;\n          textarea.selectionEnd = selectionStart;\n          setTimeout(() => {\n            textarea.focus();\n            textarea.setSelectionRange(selectionStart, selectionStart);\n          }, 0);\n        }\n      }\n    };\n\n    textarea.addEventListener(\"input\", handleInput);\n\n    return () => {\n      textarea.removeEventListener(\"input\", handleInput);\n    };\n  }, [text]);\n\n  const handleChange = (event) => {\n    setText(event.target.value);\n    const newHistory = [\n      ...history.slice(0, currentStep + 1),\n      event.target.value,\n    ];\n    setHistory(newHistory);\n    setCurrentStep(newHistory.length - 1);\n  };\n\n  return (\n    <Container className=\"code-editor-container\">\n      <div id=\"line-numbers\" className=\"code-lines\"></div>\n      <RichTextarea\n        ref={textareaRef}\n        id=\"textarea\"\n        value={text}\n        onChange={handleChange}\n        className=\"code-editor\"\n      ></RichTextarea>\n    </Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}